<!DOCTYPE html>
<html>
	<head>
		<style>
			body {
				font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
				padding: 20px;
				max-width: 1000px;
				margin: 0 auto;
				background: #f5f5f5;
				line-height: 1.6;
			}
			.email-container {
				background: white;
				padding: 20px;
				border-radius: 5px;
				box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
			}
			.header {
				color: #666;
				border-bottom: 1px solid #eee;
				padding-bottom: 10px;
				margin-bottom: 20px;
				display: flex;
				justify-content: space-between;
				align-items: center;
			}
			.content {
				line-height: 1.5;
			}
			.raw-content {
				font-family: monospace;
				white-space: pre-wrap;
				display: none;
				padding: 15px;
				background: #f8f9fa;
				border: 1px solid #eee;
				border-radius: 4px;
				font-size: 13px;
			}
			.html-content {
				display: block;
			}
			.toggle-btn {
				padding: 8px 16px;
				background: #10a37f;
				color: white;
				border: none;
				border-radius: 4px;
				cursor: pointer;
			}
			.toggle-btn:hover {
				background: #0e906f;
			}
			.email-simple {
				padding: 15px;
			}
			.email-header {
				background: #f8f9fa;
				padding: 15px;
				border-radius: 4px;
				margin-bottom: 20px;
			}
			.header-row {
				margin-bottom: 8px;
			}
			.header-row strong {
				display: inline-block;
				width: 80px;
				color: #666;
			}
			.email-content {
				padding: 15px;
				background: white;
				border: 1px solid #eee;
				border-radius: 4px;
			}
			.email-metadata {
				background: #f8f9fa;
				padding: 15px;
				margin-bottom: 20px;
				border-radius: 4px;
				border: 1px solid #eee;
			}
			.metadata-row {
				margin-bottom: 8px;
				display: flex;
			}
			.metadata-label {
				font-weight: bold;
				width: 80px;
				color: #666;
			}
			.metadata-value {
				flex: 1;
			}
		</style>
	</head>
	<body>
		<div class="email-container">
			<div class="header">
				<h2>Email Content</h2>
				<button class="toggle-btn" onclick="toggleView()">Show Raw</button>
			</div>
			<div class="email-metadata">
				<div class="metadata-row">
					<span class="metadata-label">From:</span>
					<span class="metadata-value">{{FROM}}</span>
				</div>
				<div class="metadata-row">
					<span class="metadata-label">Subject:</span>
					<span class="metadata-value">{{SUBJECT}}</span>
				</div>
			</div>
			<div class="content">
				<div class="html-content">{{HTML_CONTENT}}</div>
				<div class="raw-content">{{RAW_EMAIL}}</div>
			</div>
		</div>
		<script>
			function toggleView() {
				const rawContent = document.querySelector('.raw-content');
				const htmlContent = document.querySelector('.html-content');
				const toggleBtn = document.querySelector('.toggle-btn');

				if (rawContent.style.display === 'none' || rawContent.style.display === '') {
					rawContent.style.display = 'block';
					htmlContent.style.display = 'none';
					toggleBtn.textContent = 'Show Content';
				} else {
					rawContent.style.display = 'none';
					htmlContent.style.display = 'block';
					toggleBtn.textContent = 'Show Raw';
				}
			}
		</script>
	</body>
</html>
